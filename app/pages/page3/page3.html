
<ion-navbar *navbar>
  <ion-title>
    fleetany
  </ion-title>
</ion-navbar>

<ion-content class="page3">

  <form [(ngFormModel)]="fuelForm">
    <ion-list>

      <ion-item>
        <ion-label>Price</ion-label>
        <ion-input type="number" [(ngFormControl)]="price"></ion-input>
      </ion-item>
      <div *ngIf="price.hasError('required') && price.touched && false" 
          class="error">* Price should be numeric!</div>

      <ion-item>
        <ion-label>Amount</ion-label>
        <ion-input type="number" [(ngFormControl)]="amount"></ion-input>
      </ion-item>
      <div *ngIf="amount.hasError('required') && amount.touched && false" 
          class="error">* Amount should be numeric!</div>

      <ion-item>
        <ion-label>Miliage</ion-label>
        <ion-input type="number" [(ngFormControl)]="miliage"></ion-input>
      </ion-item>
      <div *ngIf="miliage.hasError('required') && miliage.touched && false" 
          class="error">* Miliage should be numeric!</div>

      <ion-item>
        <ion-label>Type</ion-label>
        <ion-select [(ngFormControl)]="type">
          <ion-option *ngFor="#type of types" value="{{type.key}}">
            {{type.value}}
          </ion-option>
        </ion-select>
      </ion-item>

      <ion-item>
        <ion-label>Tank Fill Up</ion-label>
        <ion-toggle [(ngFormControl)]="tankfill" checked="true"></ion-toggle>
      </ion-item>

    </ion-list>
    
    <div padding>
      <button type="submit" primary block [disabled]="!fuelForm.valid" (click)="onSubmit(fuelForm.value)">Send Fuel</button>
    </div>
  </form>

  <ion-card [hidden]="!fuelsent">

    <ion-card-content>
      <ion-item>
        Fuel sent successfully!
        <button outline item-right (click)="closeAlert()">
          <ion-icon name='close'></ion-icon>
          close
        </button>
      </ion-item>
    </ion-card-content>

  </ion-card>

</ion-content>
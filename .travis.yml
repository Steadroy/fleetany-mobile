language: android

sudo: false

node_js:
  -"4.1"

android:
  components:
  - platform-tools
  - tools
  - build-tools-23.0.1
  - android-23

before_install:
  - nvm install v4
  - npm i -g npm@^2.0.0
  - npm install -g cordova ionic@beta
  # The following three lines came from angular-seed, unsure
  - export CHROME_BIN=chromium-browser
  - export DISPLAY=:99.0
  - sh -e /etc/init.d/xvfb start

install:
  - npm install
  - ionic platform add android
  - cordova prepare
  - npm run webdriver-update

script:
  - export TS_NODE_DISABLE_WARNINGS=false
  - ionic build android
  - npm test
  - npm run coverage

notifications:
  email:
    recipients:
      - henrique.dias@alientronics.com.br
    on_success: change
    on_failure: always